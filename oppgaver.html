<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokemon oppgaver</title>
</head>
<body>
    <h1>Pokemon oppgaver</h1>
    <select id="pokemon-filter-selection">
        <option value="all">Fjern filtrering/Vis alle</option>
        <option value="bug">Bug</option>
        <option value="dark">Dark</option>
        <option value="dragon">Dragon</option>
        <option value="electric">Electric</option>
        <option value="fairy">Fairy</option>
        <option value="fighting">Fighting</option>
        <option value="fire">Fire</option>
        <option value="flying">Flying</option>
        <option value="ghost">Ghost</option>
        <option value="grass">Grass</option>
        <option value="ground">Ground</option>
        <option value="normal">Normal</option>
        <option value="ice">Ice</option>
        <option value="poison">Poison</option>
        <option value="psychic">Psychic</option>
        <option value="rock">Rock</option>
        <option value="steel">Steel</option>
        <option value="water">Water</option>
    </select>
    <div class="pokemon-container"></div>

    <script>
        const pokemonContainer = document.querySelector(".pokemon-container");
        

        let pokemonsId = [];
        async function fetchPokemon(id) {
            const pokemonRequest = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}/`);
            let response = await pokemonRequest.json();
            return response;
        }

        async function fetchAndShowPokemonId() {
            try {
                pokemonsId = [];
                for (let i = 1; i <= 50; i++) {
                    idOfPokemon = await fetchPokemon(i);
                    pokemonsId.push(idOfPokemon);
                    console.log("pokemon", idOfPokemon);
                }
                showAllPokemon(pokemonsId)
                
            } catch (error) {
                console.error("Her klarte vi dessverre ikke Ã¥ laste inn pokemons", error)
            }
        } 
        fetchAndShowPokemonId()

        function showAllPokemon(pokemons) {
            pokemonContainer.innerHTML = "";
            pokemonsId.forEach((pokemon, index) => {
                const pokemonCard = document.createElement("div");
                pokemonContainer.style.display ="flex";
                pokemonContainer.style.flexWrap = "wrap"
                pokemonContainer.style.gap = "10px";
                pokemonCard.style.width ="200px";
                pokemonCard.style.height ="280px";
                pokemonCard.style.padding ="10px";
                pokemonCard.style.backgroundColor = "blue";

                pokemonCard.innerHTML = `<img src="${pokemon.sprites.other[`official-artwork`].front_default}" style ="width: 200px" /> <h3>Navn: ${pokemon.name} <br> Type: ${pokemon.types[0].type.name}</h3>`;

                pokemonContainer.appendChild(pokemonCard);
                
            });
        }

    </script>
    
</body>
</html>